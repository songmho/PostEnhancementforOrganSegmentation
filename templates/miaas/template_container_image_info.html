{% load my_filters %}

<div class="form-container form-boxed form-horizontal row">
    <div class="col-xs-12 form-group">
        <label class="col-sm-3 col-md-2 control-label">Image Subject</label>
        <div class="col-xs-12 col-sm-9 col-md-4 control-text">
            <span id="imgSubject" class="control-value">{{ image.image_subject }}</span>
        </div>
    </div>

    <div class="col-xs-12 form-group">
        <label class="col-xs-12 col-sm-3 col-md-2 control-label">Image Type</label>
        <div class="col-xs-12 col-sm-9 col-md-4 control-text">
            <span id="type" class="control-value">{{ image.image_type }}</span>
        </div>
    </div>

    <div class="col-xs-12 col-sm-12 col-md-6 col-md-overlay col-md-overlay-right
                form-group medimage-preview-container">
        <div class="medimage-preview-wrapper">
            <div id="image-previewer" class="medimage-preview">
                <div id="image-previewer-image" class="medimage-previewer">
                    <div class="text-center text-warning" style="margin-top:136px;">Image Preview</div>
                </div>
                <div id="image-previewer-graph" class="medimage-previewer" style="display: none;"></div>
            </div>
        </div>
    </div>

    <div class="col-xs-12 form-group">
        <label class="col-xs-12 col-sm-3 col-md-2 control-label">Recorded Date</label>
        <div class="col-xs-12 col-sm-9 col-md-4 control-text">
            <span id="takenDate" class="control-value">1992-02-20</span>
        </div>
    </div>

    <div class="col-xs-12 form-group">
        <label class="col-xs-12 col-sm-3 col-md-2 control-label no-pad-left-sm">Recording Place</label>
        <div class="col-xs-12 col-sm-9 col-md-4 control-text">
            <span id="taken" class="control-value">{{ image.taken_from }}</span>
        </div>
    </div>

    <div class="col-xs-12 form-group">
        <label class="col-xs-12 col-sm-3 col-md-2 control-label no-pad-left-sm">Doctor in Charge</label>
        <div class="col-xs-12 col-sm-9 col-md-4 control-text">
            <span id="physician" class="control-value">{{ image.physician }}</span>
        </div>
    </div>

    <div class="col-xs-12 form-group">
        <label class="col-xs-12 col-sm-3 col-md-2 control-label">Clinic Name</label>
        <div class="col-xs-12 col-sm-9 col-md-4 control-text">
            <span id="place" class="control-value">{{ image.place }}</span>
        </div>
    </div>

    <div class="col-xs-12 form-group">
        <label class="col-xs-12 col-sm-3 col-md-2 control-label">Medical Department</label>
        <div class="col-xs-12 col-sm-9 col-md-4 control-text">
            <span id="place" class="control-value">{{ image.medical_department }}</span>
        </div>
    </div>

    <div class="col-sm-12 form-group">
        <label class="col-xs-12 col-sm-3 col-md-2 control-label">Notice</label>
        <div class="col-xs-12 col-sm-9 col-md-10 control-text">
            <div id="description" class="control-value">
                {% autoescape off %}
                <p>{{ image.description | newline_to_br }}</p>
                {% endautoescape %}
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    imageInfo = JSON.parse("{{ image | jsonstr }}");
    $(document).ready(function() {
        $('#takenDate').text(dateToString({{ image.taken_date }}));
    });
    function dateToString(data) {
        console.log(data)
        var date = new Date(data);
        var year = date.getFullYear();
        var month = (1 + date.getMonth()).toString();
        month = month.length > 1 ? month : '0' + month;
        var day = date.getDate().toString();
        day = day.length > 1 ? day : '0' + day;
        return (year+"-"+month + '-' + day )
    }

</script>